//Root project configuration
description = 'minimessage. Application like Twitter'

ext.gradleVersion = '3.4.1'
ext.javaVersion = '1.8.0_73'

ext.projectIds = ['group': 'ua.golovchenko.artem.minimessage', 'version': '1.0.0.SNAPSHOT']


version = projectIds.version

apply plugin: 'idea'


allprojects{

	group = projectIds.group

	repositories {

		mavenCentral()
	}
	
}


subprojects{

	apply plugin: 'java'
	apply plugin: "jacoco"

	ext{
		junitVersion = '4.12'
		mockitoVersion = '1.10.19'
		springVersion = '3.0.5.RELEASE'
		jacocoVersion = '0.7.9'
	}


	sourceSets {
		test {
			resources {
				srcDirs = ['src/test/resources', 'src/test/java']
			}
		}
	}

	repositories {
		mavenCentral()
	}

	dependencies {
		compile 'javax.inject:javax.inject:1'
		testCompile "junit:junit:$junitVersion"
		testCompile "org.mockito:mockito-all:$mockitoVersion"
		testCompile "org.springframework:spring-test:$springVersion"
	}


	jacoco {
		toolVersion = "${jacocoVersion}"
		//reportsDir = file("$buildDir/customJacocoReportDir")
	}

test.finalizedBy(jacocoTestReport)
}


project('minimessage-model'){
	version = '1.0.0.SNAPSHOT'
	description = 'Domain models'
}

project('minimessage-dao'){
	version = '1.0.0.SNAPSHOT'
	description = 'Databases access object classes'
}

project('minimessage-service'){
	version = '1.0.0.SNAPSHOT'
	description = 'Services'
}

project('minimessage-web'){
	version = '1.0.0.SNAPSHOT'
	description = 'Web'
	
	//apply plugin: 'war'
	
}


task wrapper(type: Wrapper) {
	gradleVersion = '3.4.1'
}